/*!
 *
 */
#include <DFRobot_SSD1306_I2C.h>

// 动态变量
String mind_s_fan;
// 静态常量
const chCode chBuf[] = {
	{0x8b66,0xe8ada6,0xBEAF,{0x24,0x20,0xff,0x20,0x24,0x7e,0x7e,0xc4,0x82,0x28,0x7a,0x10,0x4a,0x28,0x7a,0xc6,0x05,0x00,0xff,0xfe,0x00,0x00,0x3f,0xf8,0x00,0x00,0x3f,0xf8,0x20,0x08,0x3f,0xf8}},
	{0x544a,0xe5918a,0xB8E6,{0x01,0x00,0x11,0x00,0x11,0x00,0x1f,0xf8,0x21,0x00,0x41,0x00,0x01,0x00,0xff,0xfe,0x00,0x00,0x00,0x00,0x1f,0xf0,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,0xf0,0x10,0x10}},
	{0x6c34,0xe6b0b4,0xCBAE,{0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x08,0x01,0x08,0x7d,0x90,0x05,0xa0,0x09,0x40,0x09,0x40,0x11,0x20,0x11,0x10,0x21,0x08,0x41,0x06,0x81,0x00,0x05,0x00,0x02,0x00}},
	{0x5206,0xe58886,0xB7D6,{0x00,0x40,0x04,0x40,0x04,0x20,0x08,0x20,0x10,0x10,0x20,0x08,0x40,0x04,0x9f,0xe2,0x04,0x20,0x04,0x20,0x04,0x20,0x08,0x20,0x08,0x20,0x10,0x20,0x21,0x40,0x40,0x80}},
	{0x4e0d,0xe4b88d,0xB2BB,{0x00,0x00,0x7f,0xfc,0x00,0x80,0x00,0x80,0x01,0x00,0x01,0x00,0x03,0x40,0x05,0x20,0x09,0x10,0x11,0x08,0x21,0x04,0x41,0x04,0x81,0x00,0x01,0x00,0x01,0x00,0x01,0x00}},
	{0x8db3,0xe8b6b3,0xD7E3,{0x00,0x00,0x1f,0xf0,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1f,0xf0,0x01,0x00,0x01,0x00,0x11,0x00,0x11,0xf8,0x11,0x00,0x29,0x00,0x25,0x00,0x43,0xfe,0x80,0x00}},
	{0x8bf7,0xe8afb7,0xC7EB,{0x00,0x40,0x40,0x40,0x27,0xfc,0x20,0x40,0x03,0xf8,0x00,0x40,0xe7,0xfe,0x20,0x00,0x23,0xf8,0x22,0x08,0x23,0xf8,0x22,0x08,0x2b,0xf8,0x32,0x08,0x22,0x28,0x02,0x10}},
	{0x53ca,0xe58f8a,0xBCB0,{0x00,0x00,0x3f,0xe0,0x08,0x20,0x08,0x20,0x08,0x40,0x08,0x40,0x0c,0xf8,0x0a,0x08,0x0a,0x08,0x09,0x10,0x11,0x10,0x10,0xa0,0x20,0x40,0x20,0xa0,0x43,0x18,0x8c,0x06}},
	{0x65f6,0xe697b6,0xCAB1,{0x00,0x08,0x00,0x08,0x7c,0x08,0x44,0x08,0x45,0xfe,0x44,0x08,0x44,0x08,0x7c,0x08,0x44,0x88,0x44,0x48,0x44,0x48,0x44,0x08,0x7c,0x08,0x44,0x08,0x00,0x28,0x00,0x10}},
	{0x6d47,0xe6b587,0xBDBD,{0x00,0x80,0x20,0x80,0x10,0xbc,0x13,0xc0,0x80,0x50,0x40,0x24,0x48,0xd4,0x0b,0x0c,0x10,0x00,0x17,0xfe,0xe0,0x90,0x20,0x90,0x21,0x12,0x21,0x12,0x22,0x0e,0x04,0x00}},
	{0xff01,0xefbc81,0xA3A1,{0x00,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x10,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x10,0x00,0x00,0x00,0x00,0x00}},
	{0x6b63,0xe6ada3,0xD5FD,{0x00,0x00,0x7f,0xfc,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x11,0x00,0x11,0xf8,0x11,0x00,0x11,0x00,0x11,0x00,0x11,0x00,0x11,0x00,0x11,0x00,0xff,0xfe,0x00,0x00}},
	{0x5e38,0xe5b8b8,0xB3A3,{0x01,0x00,0x11,0x10,0x09,0x20,0x7f,0xfe,0x40,0x02,0x9f,0xf4,0x10,0x10,0x1f,0xf0,0x01,0x00,0x3f,0xf8,0x21,0x08,0x21,0x08,0x21,0x28,0x21,0x10,0x01,0x00,0x01,0x00}},
	{0x7ee7,0xe7bba7,0xBCCC,{0x10,0x20,0x12,0x20,0x22,0x20,0x23,0x24,0x4a,0xa8,0xf2,0x20,0x13,0xfc,0x22,0x20,0x42,0x70,0xfa,0xa8,0x43,0x24,0x02,0x20,0x1a,0x20,0xe2,0x20,0x43,0xfe,0x00,0x00}},
	{0x7eed,0xe7bbad,0xD0F8,{0x10,0x20,0x10,0x20,0x21,0xfc,0x24,0x20,0x44,0x20,0xfb,0xfe,0x10,0x02,0x20,0x94,0x40,0x50,0xfd,0x10,0x40,0x90,0x03,0xfe,0x1c,0x28,0xe0,0x44,0x40,0x82,0x03,0x02}},
	{0x4fdd,0xe4bf9d,0xB1A3,{0x08,0x00,0x0b,0xf8,0x0a,0x08,0x12,0x08,0x12,0x08,0x33,0xf8,0x30,0x40,0x50,0x40,0x97,0xfc,0x10,0xe0,0x11,0x50,0x12,0x48,0x14,0x44,0x18,0x42,0x10,0x40,0x10,0x40}},
	{0x6301,0xe68c81,0xB3D6,{0x10,0x20,0x10,0x20,0x10,0x20,0x11,0xfc,0xfc,0x20,0x10,0x20,0x13,0xfe,0x10,0x08,0x18,0x08,0x33,0xfe,0xd0,0x08,0x10,0x88,0x10,0x48,0x10,0x08,0x50,0x28,0x20,0x10}}
};
// 创建对象
DFRobot_SSD1306_I2C oled12864;


// 主程序开始
void setup() {
	Serial.begin(9600);
	oled12864.begin(0x3c);
	oled12864.setChCode(chBuf);
	mind_s_fan = "off";
	oled12864.fillScreen(0);
}
void loop() {
	oled12864.fillScreen(0);
	digitalWrite(3, HIGH);
	if ((analogRead(A1)>=700)) {
		digitalWrite(2, HIGH);
		digitalWrite(4, LOW);
		oled12864.setCursorLine(1);
		oled12864.printLine("      警告      ");
		oled12864.setCursorLine(2);
		oled12864.printLine("    水分不足   ");
		oled12864.setCursorLine(3);
		oled12864.printLine("  请及时浇水！  ");
	}
	else {
		digitalWrite(2, LOW);
		digitalWrite(4, HIGH);
		oled12864.setCursorLine(2);
		oled12864.printLine("    水分正常    ");
		oled12864.setCursorLine(3);
		oled12864.printLine("    继续保持    ");
	}
	delay(1000);
	Serial.println(analogRead(A0));
	oled12864.fillScreen(0);
	if ((analogRead(A0)<100)) {
		if ((mind_s_fan==String("off"))) {
			mind_s_fan = "on";
		}
		else {
			mind_s_fan = "off";
		}
	}
	if ((mind_s_fan==String("off"))) {
		digitalWrite(5, LOW);
	}
	else {
		digitalWrite(5, HIGH);
	}
}
